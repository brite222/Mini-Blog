@model IEnumerable<MiniBlog.Models.BlogPost>

<h2 class="fw-bold text-center mb-4">Latest Blog Posts</h2>

@if (User.IsInRole("Admin"))
{
    <div class="text-center mb-4">
        <a asp-action="Create" class="btn btn-success">
            + Create Blog Post
        </a>
    </div>
}

<div class="row g-3">
    @foreach (var post in Model)
    {
        <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
            <div class="card h-100 blog-card">

                @if (!string.IsNullOrEmpty(post.ImageUrl))
                {
                    <img src="@post.ImageUrl"
                         class="card-img-top blog-img"
                         alt="@post.Title" />
                }

                <div class="card-body p-2">
                    @if (post.Category != null)
                    {
                        <span class="badge bg-primary mb-1">
                            @post.Category.Name
                        </span>
                    }

                    <h6 class="fw-semibold mt-1 text-truncate">
                        @post.Title
                    </h6>

                    <small class="text-muted">
                        @post.CreatedAt.ToString("MMM dd, yyyy")
                    </small>
                </div>

                <div class="card-footer bg-white border-0 p-2">
                    <a asp-action="Details"
                       asp-route-id="@post.Id"
                       class="btn btn-sm btn-outline-primary w-100">
                        Read →
                    </a>
                </div>

            </div>
        </div>
    }
</div>
